---
title: "Project File"
output: html_document
date: "2023-02-01"
---
## Install Packages
```{r message = FALSE}
#install.packages("GGally")
#install.packages("tidyverse")
#install.packages("caret")
library(GGally)
library(tidyverse)
library(caret)
```

## Import Dataset
```{r}
# Import data 
cancer <- read.csv('https://raw.github.com/scveatch/didactic-goggles/main/cancer_reg.csv')

# Display first 5 rows.
head(cancer, 5)
```

## Dataset Description

As an aside, it seems that github is taking a really long time in updating the raw with committed changes. Hopefully that bug gets worked out soon -- as a test, I've commited a 21st row in the repository with the values "Hello;" "Hello;" that will hopefully pop up in the next pull. This feature will be necessary to keep full transparency when we create new columns. 
```{r}
# Create a dataset of Column Name and related Description
Information_df = read.table("https://raw.github.com/scveatch/didactic-goggles/Dataset/Descriptions", header = TRUE, sep = ";")

view(Information_df[, -3])
```


## Preliminary Analysis

```{r}
# View the dataset structure
str(cancer)
```

Note that Binned Income is a "chr" variable; however, this won't need to be changed. Binned income is a categorical variable, we won't need to make it numeric to use it. However, there do seem to be a few features with missing values that ought to be further examined.

# Count Missing Values

```{r}
# Count Missingness

# Initialize Empty Dataset
missing_values_per_col <- data.frame(
  "Column_Name" = character(),
  "Num_Missing" = double(),
  "Total_Values" = double()
)

# Sum Missing Values for Each Column
for (i in 1:ncol(cancer)) {
  x = c(colnames(cancer))
  new <- c(x[i], sum(is.na(cancer[, i])), length(cancer[, i]))
  missing_values_per_col[nrow(missing_values_per_col) + 1, ] <- new
}

missing_values_per_col
```
As we can see pretty clearly from this dataframe, the feature "pctsomecol18_24" is about 75% ommitted, and therefore should not be considered in any analysis without heavy caution. The feature "pctprivatecoveragealone" also has a significant amount omitted, about 20%, which should be noted. 

## Filter Dataset to Oregon

There's no reason to use this just yet, but nonetheless, I'm making it because I think we may fall back to it sometime in the future. 
```{r}
oregon <- cancer %>%
  filter(grepl("Oregon", geography))
oregon <- oregon[-37,] # remove one erroneous value from Oregon County, Missouri
```

